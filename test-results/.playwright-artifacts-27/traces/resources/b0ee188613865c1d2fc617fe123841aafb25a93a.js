define(["react"],(function(e){"use strict";const t=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()};var n,o={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */n=o,function(){var e={}.hasOwnProperty;function t(){for(var n=[],o=0;o<arguments.length;o++){var r=arguments[o];if(r){var i=typeof r;if("string"===i||"number"===i)n.push(r);else if(Array.isArray(r)){if(r.length){var s=t.apply(null,r);s&&n.push(s)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){n.push(r.toString());continue}for(var a in r)e.call(r,a)&&r[a]&&n.push(a)}}}return n.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t}();var r=o.exports;function i(t){const{htmlFor:n,children:o,onClick:r}=t;return e.createElement(null==n?"span":"label",{children:o,className:"widget-combobox-caption-text",htmlFor:n,onClick:r||(n?e=>{e.preventDefault()}:void 0)})}class s{constructor(e){this.optionsMap=e,this.unavailableCaption="<...>",this.customContentType="no",this.emptyCaption=""}updateProps(e){e.emptyOptionText&&"unavailable"!==e.emptyOptionText.status?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption="",this.formatter=e.formattingAttributeOrExpression,this.customContent=e.customContent,this.customContentType=e.customContentType}get(e){var t;if(null===e)return this.emptyCaption;if(!this.formatter)throw new Error("AssociationSimpleCaptionRenderer: no formatter available.");const n=this.optionsMap.get(e);if(!n)return this.unavailableCaption;const o=this.formatter.get(n);return"unavailable"===o.status?this.unavailableCaption:null!==(t=o.value)&&void 0!==t?t:""}getCustomContent(e){var t;if(null===e)return null;const n=this.optionsMap.get(e);return n?null===(t=this.customContent)||void 0===t?void 0:t.get(n):null}render(t,n,o){const{customContentType:r}=this;return"no"===r||"label"===n&&"listItem"===r||null===t?e.createElement(i,{htmlFor:o},this.get(t)):e.createElement("div",{className:"widget-combobox-caption-custom"},this.getCustomContent(t))}}function a(t){let{size:n=14}=t;return e.createElement("span",{className:"widget-combobox-icon-container"},e.createElement("svg",{width:n,height:n,viewBox:"0 0 32 32",className:"widget-combobox-clear-button-icon"},e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",d:"M27.71 5.71004L26.29 4.29004L16 14.59L5.71004 4.29004L4.29004 5.71004L14.59 16L4.29004 26.29L5.71004 27.71L16 17.41L26.29 27.71L27.71 26.29L17.41 16L27.71 5.71004Z"})))}function l(t){let{isOpen:n}=t;return e.createElement("span",{className:"widget-combobox-icon-container"},e.createElement("svg",{className:r("widget-combobox-down-arrow-icon","mx-icon-lined","mx-icon-chevron-down",{active:n}),width:"16",height:"16",viewBox:"0 0 32 32"},e.createElement("path",{d:"M16 23.41L4.29004 11.71L5.71004 10.29L16 20.59L26.29 10.29L27.71 11.71L16 23.41Z"})))}function u(t){let{checked:n,id:o,focusable:r,onClick:s,ariaLabel:a}=t;return e.createElement(e.Fragment,null,e.createElement("span",{className:"widget-combobox-icon-container"},e.createElement("input",{type:"checkbox",tabIndex:r?0:-1,checked:n,id:o,role:"presentation",onClick:s||(e=>{e.preventDefault()}),onChange:()=>{}})),a?e.createElement(i,{htmlFor:o},a):void 0)}function c(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}var p,h,m,g,f={exports:{}};f.exports=function(){if(g)return m;g=1;var e=h?p:(h=1,p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,m=function(){function o(t,n,o,r,i,s){if(s!==e){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function r(){return o}o.isRequired=o;var i={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:r,element:o,elementType:o,instanceOf:r,node:o,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}()();var v,y={};!function(e){e.exports=function(){if(v)return y;v=1;var e=60103,t=60106,n=60107,o=60108,r=60114,i=60109,s=60110,a=60112,l=60113,u=60120,c=60115,d=60116,p=60121,h=60122,m=60117,g=60129,f=60131;if("function"==typeof Symbol&&Symbol.for){var I=Symbol.for;e=I("react.element"),t=I("react.portal"),n=I("react.fragment"),o=I("react.strict_mode"),r=I("react.profiler"),i=I("react.provider"),s=I("react.context"),a=I("react.forward_ref"),l=I("react.suspense"),u=I("react.suspense_list"),c=I("react.memo"),d=I("react.lazy"),p=I("react.block"),h=I("react.server.block"),m=I("react.fundamental"),g=I("react.debug_trace_mode"),f=I("react.legacy_hidden")}function b(p){if("object"==typeof p&&null!==p){var h=p.$$typeof;switch(h){case e:switch(p=p.type){case n:case r:case o:case l:case u:return p;default:switch(p=p&&p.$$typeof){case s:case a:case d:case c:case i:return p;default:return h}}case t:return h}}}var x=i,w=e,C=a,E=n,O=d,T=c,k=t,S=r,A=o,M=l;return y.ContextConsumer=s,y.ContextProvider=x,y.Element=w,y.ForwardRef=C,y.Fragment=E,y.Lazy=O,y.Memo=T,y.Portal=k,y.Profiler=S,y.StrictMode=A,y.Suspense=M,y.isAsyncMode=function(){return!1},y.isConcurrentMode=function(){return!1},y.isContextConsumer=function(e){return b(e)===s},y.isContextProvider=function(e){return b(e)===i},y.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},y.isForwardRef=function(e){return b(e)===a},y.isFragment=function(e){return b(e)===n},y.isLazy=function(e){return b(e)===d},y.isMemo=function(e){return b(e)===c},y.isPortal=function(e){return b(e)===t},y.isProfiler=function(e){return b(e)===r},y.isStrictMode=function(e){return b(e)===o},y.isSuspense=function(e){return b(e)===l},y.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===r||e===g||e===o||e===l||e===u||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===c||e.$$typeof===i||e.$$typeof===s||e.$$typeof===a||e.$$typeof===m||e.$$typeof===p||e[0]===h)},y.typeOf=b,y}()}({exports:{}});let I=e=>"object"==typeof e&&null!=e&&1===e.nodeType,b=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,x=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n=getComputedStyle(e,null);return b(n.overflowY,t)||b(n.overflowX,t)||(e=>{let t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},w=(e,t,n,o,r,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-o:s>t&&a<n||i<e&&a>n?s-t+r:0,C=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t};var E=function(){return E=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},E.apply(this,arguments)},O=0;function T(){}function k(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function S(e,t){var n;function o(){n&&clearTimeout(n)}function r(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];o(),n=setTimeout((function(){n=null,e.apply(void 0,i)}),t)}return r.cancel=o,r}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.some((function(t){return t&&t.apply(void 0,[e].concat(o)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function V(e,t){return Object.keys(e).reduce((function(n,o){return n[o]=P(t,o)?t[o]:e[o],n}),{})}function P(e,t){return void 0!==e[t]}function N(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function R(e,t,n,o,r){if(void 0===r&&(r=!0),0===n)return-1;var i=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:i+1);var s=t+e;s<0?s=r?i:0:s>i&&(s=r?0:i);var a=D(e,s,n,o,r);return-1===a?t>=n?-1:t:a}function D(e,t,n,o,r){var i=o(t);if(!i||!i.hasAttribute("disabled"))return t;if(e>0){for(var s=t+1;s<n;s++)if(!o(s).hasAttribute("disabled"))return s}else for(var a=t-1;a>=0;a--)if(!o(a).hasAttribute("disabled"))return a;return r?e>0?D(1,0,n,o,!1):D(-1,n-1,n,o,!1):-1}function L(e,t,n,o){return void 0===o&&(o=!0),t.some((function(t){return t&&(k(t,e,n)||o&&k(t,n.document.activeElement,n))}))}var F=S((function(e){K(e).textContent=""}),500);function _(e,t){var n=K(t);e&&(n.textContent=e,F(t))}function K(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var B=["isInitialMount","highlightedIndex","items","environment"],H={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function U(e,t,n){var o=e.props,r=e.type,i={};Object.keys(t).forEach((function(o){!function(e,t,n,o){var r=t.props,i=t.type,s="on"+z(e)+"Change";r[s]&&void 0!==o[e]&&o[e]!==n[e]&&r[s](d({type:i},o))}(o,e,t,n),n[o]!==t[o]&&(i[o]=n[o])})),o.onStateChange&&Object.keys(i).length&&o.onStateChange(d({type:r},i))}var W=S((function(e,t){_(e(),t)}),200),j="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;function $(t){var n=t.id,o=void 0===n?"downshift-"+String(O++):n,r=t.labelId,i=t.menuId,s=t.getItemId,a=t.toggleButtonId,l=t.inputId;return e.useRef({labelId:r||o+"-label",menuId:i||o+"-menu",getItemId:s||function(e){return o+"-item-"+e},toggleButtonId:a||o+"-toggle-button",inputId:l||o+"-input"}).current}function Y(e,t,n,o){var r,i;if(void 0===e){if(void 0===t)throw new Error(o);r=n[t],i=t}else i=void 0===t?n.indexOf(e):t,r=e;return[r,i]}function z(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function X(t){var n=e.useRef(t);return n.current=t,n}function q(t,n,o){var r=e.useRef(),i=e.useRef(),s=e.useCallback((function(e,n){i.current=n,e=V(e,n.props);var o=t(e,n);return n.props.stateReducer(e,d({},n,{changes:o}))}),[t]),a=e.useReducer(s,n),l=a[0],u=a[1],c=X(o),p=e.useCallback((function(e){return u(d({props:c.current},e))}),[c]),h=i.current;return e.useEffect((function(){h&&r.current&&r.current!==l&&U(h,V(r.current,h.props),l),r.current=l}),[l,o,h]),[l,p]}var Q={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11ySelectionMessage:function(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""},scrollIntoView:function(e,t){if(e){var n=((e,t)=>{var n,o,r,i,s,a;if("undefined"==typeof document)return[];let{scrollMode:l,block:u,inline:c,boundary:d,skipOverflowHiddenElements:p}=t,h="function"==typeof d?d:e=>e!==d;if(!I(e))throw new TypeError("Invalid target");let m=document.scrollingElement||document.documentElement,g=[],f=e;for(;I(f)&&h(f);){if(f=C(f),f===m){g.push(f);break}null!=f&&f===document.body&&x(f)&&!x(document.documentElement)||null!=f&&x(f,p)&&g.push(f)}let v=null!=(o=null==(n=window.visualViewport)?void 0:n.width)?o:innerWidth,y=null!=(i=null==(r=window.visualViewport)?void 0:r.height)?i:innerHeight,b=null!=(s=window.scrollX)?s:pageXOffset,E=null!=(a=window.scrollY)?a:pageYOffset,{height:O,width:T,top:k,right:S,bottom:A,left:M}=e.getBoundingClientRect(),V="start"===u||"nearest"===u?k:"end"===u?A:k+O/2,P="center"===c?M+T/2:"end"===c?S:M,N=[];for(let e=0;e<g.length;e++){let t=g[e],{height:n,width:o,top:r,right:i,bottom:s,left:a}=t.getBoundingClientRect();if("if-needed"===l&&k>=0&&M>=0&&A<=y&&S<=v&&k>=r&&A<=s&&M>=a&&S<=i)return N;let d=getComputedStyle(t),p=parseInt(d.borderLeftWidth,10),h=parseInt(d.borderTopWidth,10),f=parseInt(d.borderRightWidth,10),I=parseInt(d.borderBottomWidth,10),x=0,C=0,R="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-f:0,D="offsetHeight"in t?t.offsetHeight-t.clientHeight-h-I:0,L="offsetWidth"in t?0===t.offsetWidth?0:o/t.offsetWidth:0,F="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(m===t)x="start"===u?V:"end"===u?V-y:"nearest"===u?w(E,E+y,y,h,I,E+V,E+V+O,O):V-y/2,C="start"===c?P:"center"===c?P-v/2:"end"===c?P-v:w(b,b+v,v,p,f,b+P,b+P+T,T),x=Math.max(0,x+E),C=Math.max(0,C+b);else{x="start"===u?V-r-h:"end"===u?V-s+I+D:"nearest"===u?w(r,s,n,h,I+D,V,V+O,O):V-(r+n/2)+D/2,C="start"===c?P-a-p:"center"===c?P-(a+o/2)+R/2:"end"===c?P-i+f+R:w(a,i,o,p,f+R,P,P+T,T);let{scrollLeft:e,scrollTop:l}=t;x=Math.max(0,Math.min(l+x/F,t.scrollHeight-n/F+D)),C=Math.max(0,Math.min(e+C/L,t.scrollWidth-o/L+R)),V+=l-x,P+=e-C}N.push({el:t,top:x,left:C})}return N})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach((function(e){var t=e.el,n=e.top,o=e.left;t.scrollTop=n,t.scrollLeft=o}))}},environment:"undefined"==typeof window?{}:window};function Z(e,t,n){void 0===n&&(n=H);var o=e["default"+z(t)];return void 0!==o?o:n[t]}function G(e,t,n){void 0===n&&(n=H);var o=e[t];if(void 0!==o)return o;var r=e["initial"+z(t)];return void 0!==r?r:Z(e,t,n)}function J(e,t,n){var o=e.items,r=e.initialHighlightedIndex,i=e.defaultHighlightedIndex,s=t.selectedItem,a=t.highlightedIndex;return 0===o.length?-1:void 0!==r&&a===r?r:void 0!==i?i:s?o.indexOf(s):0===n?-1:n<0?o.length-1:0}var ee=function(){return T};function te(t,n,o){var r=o.isInitialMount,i=o.highlightedIndex,s=o.items,a=o.environment,l=c(o,B);e.useEffect((function(){r||W((function(){return t(d({highlightedIndex:i,highlightedItem:s[i],resultCount:s.length},l))}),a.document)}),n)}var ne=T;function oe(e,t,n){var o;return void 0===n&&(n=!0),d({isOpen:!1,highlightedIndex:-1},(null==(o=e.items)?void 0:o.length)&&t>=0&&d({selectedItem:e.items[t],isOpen:Z(e,"isOpen"),highlightedIndex:Z(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}f.exports.array.isRequired,f.exports.func,f.exports.func,f.exports.func,f.exports.number,f.exports.number,f.exports.number,f.exports.bool,f.exports.bool,f.exports.bool,f.exports.any,f.exports.any,f.exports.any,f.exports.string,f.exports.string,f.exports.string,f.exports.func,f.exports.string,f.exports.func,f.exports.func,f.exports.func,f.exports.func,f.exports.func,f.exports.shape({addEventListener:f.exports.func,removeEventListener:f.exports.func,document:f.exports.shape({getElementById:f.exports.func,activeElement:f.exports.any,body:f.exports.any})}),E(E({},Q),{getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,o=e.previousResultCount;return t?n?n!==o?"".concat(n," result").concat(1===n?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}});var re=0,ie=1,se=2,ae=3,le=4,ue=5,ce=6,de=7,pe=8,he=9,me=10,ge=11,fe=12,ve=13,ye=14,Ie=15,be=16,xe=17,we=18,Ce=19,Ee=20,Oe=21,Te=22,ke=Object.freeze({__proto__:null,InputKeyDownArrowDown:re,InputKeyDownArrowUp:ie,InputKeyDownEscape:se,InputKeyDownHome:ae,InputKeyDownEnd:le,InputKeyDownPageUp:ue,InputKeyDownPageDown:ce,InputKeyDownEnter:de,InputChange:pe,InputBlur:he,InputFocus:me,MenuMouseLeave:ge,ItemMouseMove:fe,ItemClick:ve,ToggleButtonClick:ye,FunctionToggleMenu:Ie,FunctionOpenMenu:be,FunctionCloseMenu:xe,FunctionSetHighlightedIndex:we,FunctionSelectItem:Ce,FunctionSetInputValue:Ee,FunctionReset:Oe,ControlledPropUpdatedSelectedItem:Te});function Se(e){var t=function(e){var t=G(e,"selectedItem"),n=G(e,"isOpen"),o=G(e,"highlightedIndex"),r=G(e,"inputValue");return{highlightedIndex:o<0&&t&&n?e.items.indexOf(t):o,isOpen:n,selectedItem:t,inputValue:r}}(e),n=t.selectedItem,o=t.inputValue;return""===o&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(o=e.itemToString(n)),d({},t,{inputValue:o})}f.exports.array.isRequired,f.exports.func,f.exports.func,f.exports.func,f.exports.func,f.exports.number,f.exports.number,f.exports.number,f.exports.bool,f.exports.bool,f.exports.bool,f.exports.any,f.exports.any,f.exports.any,f.exports.string,f.exports.string,f.exports.string,f.exports.string,f.exports.string,f.exports.string,f.exports.func,f.exports.string,f.exports.string,f.exports.func,f.exports.func,f.exports.func,f.exports.func,f.exports.func,f.exports.func,f.exports.shape({addEventListener:f.exports.func,removeEventListener:f.exports.func,document:f.exports.shape({getElementById:f.exports.func,activeElement:f.exports.any,body:f.exports.any})});var Ae=d({},Q,{selectedItemChanged:function(e,t){return e!==t},getA11yStatusMessage:function(e){var t=e.isOpen,n=e.resultCount,o=e.previousResultCount;return t?n?n!==o?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}});function Me(e,t){var n,o,r=t.type,i=t.props,s=t.altKey;switch(r){case ve:o={isOpen:Z(i,"isOpen"),highlightedIndex:Z(i,"highlightedIndex"),selectedItem:i.items[t.index],inputValue:i.itemToString(i.items[t.index])};break;case re:o=e.isOpen?{highlightedIndex:R(1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:s&&null==e.selectedItem?-1:J(i,e,1,t.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case ie:o=e.isOpen?s?oe(i,e.highlightedIndex):{highlightedIndex:R(-1,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!0)}:{highlightedIndex:J(i,e,-1,t.getItemNodeFromIndex),isOpen:i.items.length>=0};break;case de:o=oe(i,e.highlightedIndex);break;case se:o=d({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case ue:o={highlightedIndex:R(-10,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1)};break;case ce:o={highlightedIndex:R(10,e.highlightedIndex,i.items.length,t.getItemNodeFromIndex,!1)};break;case ae:o={highlightedIndex:D(1,0,i.items.length,t.getItemNodeFromIndex,!1)};break;case le:o={highlightedIndex:D(-1,i.items.length-1,i.items.length,t.getItemNodeFromIndex,!1)};break;case he:o=d({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=i.items)?void 0:n.length)&&t.selectItem&&{selectedItem:i.items[e.highlightedIndex],inputValue:i.itemToString(i.items[e.highlightedIndex])});break;case pe:o={isOpen:!0,highlightedIndex:Z(i,"highlightedIndex"),inputValue:t.inputValue};break;case me:o={isOpen:!0,highlightedIndex:J(i,e,0)};break;case Ce:o={selectedItem:t.selectedItem,inputValue:i.itemToString(t.selectedItem)};break;case Te:o={inputValue:t.inputValue};break;default:return function(e,t,n){var o,r=t.type,i=t.props;switch(r){case n.ItemMouseMove:o={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:J(i,e,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:J(i,e,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:t.inputValue};break;case n.FunctionReset:o={highlightedIndex:Z(i,"highlightedIndex"),isOpen:Z(i,"isOpen"),selectedItem:Z(i,"selectedItem"),inputValue:Z(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return d({},e,o)}(e,t,ke)}return d({},e,o)}var Ve=["onMouseLeave","refKey","ref"],Pe=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Ne=["onClick","onPress","refKey","ref"],Re=["onKeyDown","onChange","onInput","onFocus","onBlur","onChangeText","refKey","ref"];function De(t){void 0===t&&(t={});var n=d({},Ae,t),o=n.initialIsOpen,r=n.defaultIsOpen,i=n.items,s=n.scrollIntoView,a=n.environment,l=n.getA11yStatusMessage,u=n.getA11ySelectionMessage,p=n.itemToString,h=function(t,n,o){var r=e.useRef(),i=q(t,n,o),s=i[0],a=i[1];return e.useEffect((function(){P(o,"selectedItem")&&(o.selectedItemChanged(r.current,o.selectedItem)&&a({type:Te,inputValue:o.itemToString(o.selectedItem)}),r.current=s.selectedItem===r.current?o.selectedItem:s.selectedItem)}),[s.selectedItem,o.selectedItem]),[V(s,o),a]}(Me,Se(n),n),m=h[0],g=h[1],f=m.isOpen,v=m.highlightedIndex,y=m.selectedItem,I=m.inputValue,b=e.useRef(null),x=e.useRef({}),w=e.useRef(null),C=e.useRef(null),E=e.useRef(!0),O=$(n),T=e.useRef(),k=X({state:m,props:n}),S=e.useCallback((function(e){return x.current[O.getItemId(e)]}),[O]);te(l,[f,v,I,i],d({isInitialMount:E.current,previousResultCount:T.current,items:i,environment:a,itemToString:p},m)),te(u,[y],d({isInitialMount:E.current,previousResultCount:T.current,items:i,environment:a,itemToString:p},m));var R=function(t){var n=t.highlightedIndex,o=t.isOpen,r=t.itemRefs,i=t.getItemNodeFromIndex,s=t.menuElement,a=t.scrollIntoView,l=e.useRef(!0);return j((function(){n<0||!o||!Object.keys(r.current).length||(!1===l.current?l.current=!0:a(i(n),s))}),[n]),l}({menuElement:b.current,highlightedIndex:v,isOpen:f,itemRefs:x,scrollIntoView:s,getItemNodeFromIndex:S});ne({isInitialMount:E.current,props:n,state:m}),e.useEffect((function(){(o||r||f)&&w.current&&w.current.focus()}),[]),e.useEffect((function(){E.current||(T.current=i.length)}));var D=function(t,n,o,r){var i=e.useRef({isMouseDown:!1,isTouchMove:!1});return e.useEffect((function(){if(null!=(null==o?void 0:o.addEventListener)){var e=function(){i.current.isMouseDown=!0},s=function(e){i.current.isMouseDown=!1,t&&!L(e.target,n.map((function(e){return e.current})),o)&&r()},a=function(){i.current.isTouchMove=!1},l=function(){i.current.isTouchMove=!0},u=function(e){!t||i.current.isTouchMove||L(e.target,n.map((function(e){return e.current})),o,!1)||r()};return o.addEventListener("mousedown",e),o.addEventListener("mouseup",s),o.addEventListener("touchstart",a),o.addEventListener("touchmove",l),o.addEventListener("touchend",u),function(){o.removeEventListener("mousedown",e),o.removeEventListener("mouseup",s),o.removeEventListener("touchstart",a),o.removeEventListener("touchmove",l),o.removeEventListener("touchend",u)}}}),[t,o]),i}(f,[w,b,C],a,(function(){g({type:he,selectItem:!1})})),F=ee();e.useEffect((function(){return E.current=!1,function(){E.current=!0}}),[]),e.useEffect((function(){var e;if(f){if((null==(e=a.document)?void 0:e.activeElement)!==w.current){var t;null==w||null==(t=w.current)||t.focus()}}else x.current={}}),[f,a]);var _=e.useMemo((function(){return{ArrowDown:function(e){e.preventDefault(),g({type:re,altKey:e.altKey,getItemNodeFromIndex:S})},ArrowUp:function(e){e.preventDefault(),g({type:ie,altKey:e.altKey,getItemNodeFromIndex:S})},Home:function(e){k.current.state.isOpen&&(e.preventDefault(),g({type:ae,getItemNodeFromIndex:S}))},End:function(e){k.current.state.isOpen&&(e.preventDefault(),g({type:le,getItemNodeFromIndex:S}))},Escape:function(e){var t=k.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),g({type:se}))},Enter:function(e){k.current.state.isOpen&&229!==e.which&&(e.preventDefault(),g({type:de,getItemNodeFromIndex:S}))},PageUp:function(e){k.current.state.isOpen&&(e.preventDefault(),g({type:ue,getItemNodeFromIndex:S}))},PageDown:function(e){k.current.state.isOpen&&(e.preventDefault(),g({type:ce,getItemNodeFromIndex:S}))}}}),[g,k,S]),K=e.useCallback((function(e){return d({id:O.labelId,htmlFor:O.inputId},e)}),[O]),B=e.useCallback((function(e,t){var n,o=void 0===e?{}:e,r=o.onMouseLeave,i=o.refKey,s=void 0===i?"ref":i,a=o.ref,l=c(o,Ve);return(void 0===t?{}:t).suppressRefError,d(((n={})[s]=M(a,(function(e){b.current=e})),n.id=O.menuId,n.role="listbox",n["aria-labelledby"]=l&&l["aria-label"]?void 0:""+O.labelId,n.onMouseLeave=A(r,(function(){g({type:ge})})),n),l)}),[g,F,O]),H=e.useCallback((function(e){var t,n,o=void 0===e?{}:e,r=o.item,i=o.index,s=o.refKey,a=void 0===s?"ref":s,l=o.ref,u=o.onMouseMove,p=o.onMouseDown,h=o.onClick;o.onPress;var m=o.disabled,f=c(o,Pe),v=k.current,y=v.props,I=v.state,b=Y(r,i,y.items,"Pass either item or index to getItemProps!")[1],w=h;return d(((t={})[a]=M(l,(function(e){e&&(x.current[O.getItemId(b)]=e)})),t.disabled=m,t.role="option",t["aria-selected"]=""+(b===I.highlightedIndex),t.id=O.getItemId(b),t),!m&&((n={}).onClick=A(w,(function(){g({type:ve,index:b})})),n),{onMouseMove:A(u,(function(){b!==I.highlightedIndex&&(R.current=!1,g({type:fe,index:b,disabled:m}))})),onMouseDown:A(p,(function(e){return e.preventDefault()}))},f)}),[g,k,R,O]),U=e.useCallback((function(e){var t,n=void 0===e?{}:e,o=n.onClick;n.onPress;var r=n.refKey,i=void 0===r?"ref":r,s=n.ref,a=c(n,Ne),l=k.current.state;return d(((t={})[i]=M(s,(function(e){C.current=e})),t["aria-controls"]=O.menuId,t["aria-expanded"]=l.isOpen,t.id=O.toggleButtonId,t.tabIndex=-1,t),!a.disabled&&d({},{onClick:A(o,(function(){g({type:ye})}))}),a)}),[g,k,O]),W=e.useCallback((function(e,t){var n,o=void 0===e?{}:e,r=o.onKeyDown,i=o.onChange,s=o.onInput,l=o.onFocus,u=o.onBlur;o.onChangeText;var p=o.refKey,h=void 0===p?"ref":p,m=o.ref,f=c(o,Re);(void 0===t?{}:t).suppressRefError;var v,y=k.current.state,I={};f.disabled||((v={}).onChange=A(i,s,(function(e){g({type:pe,inputValue:e.target.value})})),v.onKeyDown=A(r,(function(e){var t=N(e);t&&_[t]&&_[t](e)})),v.onBlur=A(u,(function(e){if(y.isOpen&&!D.current.isMouseDown){var t=null===e.relatedTarget&&a.document.activeElement!==a.document.body;g({type:he,selectItem:!t})}})),v.onFocus=A(l,(function(){y.isOpen||g({type:me})})),I=v);return d(((n={})[h]=M(m,(function(e){w.current=e})),n["aria-activedescendant"]=y.isOpen&&y.highlightedIndex>-1?O.getItemId(y.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=O.menuId,n["aria-expanded"]=y.isOpen,n["aria-labelledby"]=f&&f["aria-label"]?void 0:""+O.labelId,n.autoComplete="off",n.id=O.inputId,n.role="combobox",n.value=y.inputValue,n),I,f)}),[F,k,O,_,g,D,a]),z=e.useCallback((function(){g({type:Ie})}),[g]),Q=e.useCallback((function(){g({type:xe})}),[g]),Z=e.useCallback((function(){g({type:be})}),[g]),G=e.useCallback((function(e){g({type:we,highlightedIndex:e})}),[g]),J=e.useCallback((function(e){g({type:Ce,selectedItem:e})}),[g]);return{getItemProps:H,getLabelProps:K,getMenuProps:B,getInputProps:W,getToggleButtonProps:U,toggleMenu:z,openMenu:Z,closeMenu:Q,setHighlightedIndex:G,setInputValue:e.useCallback((function(e){g({type:Ee,inputValue:e})}),[g]),selectItem:J,reset:e.useCallback((function(){g({type:Oe})}),[g]),highlightedIndex:v,isOpen:f,selectedItem:y,inputValue:I}}De.stateChangeTypes=ke;var Le={activeIndex:-1,selectedItems:[]};function Fe(e,t){return G(e,t,Le)}function _e(e,t){return Z(e,t,Le)}function Ke(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}f.exports.array,f.exports.array,f.exports.array,f.exports.func,f.exports.func,f.exports.func,f.exports.number,f.exports.number,f.exports.number,f.exports.func,f.exports.func,f.exports.string,f.exports.string,f.exports.shape({addEventListener:f.exports.func,removeEventListener:f.exports.func,document:f.exports.shape({getElementById:f.exports.func,activeElement:f.exports.any,body:f.exports.any})});var Be={itemToString:Q.itemToString,stateReducer:Q.stateReducer,environment:Q.environment,getA11yRemovalMessage:function(e){var t=e.removedSelectedItem;return(0,e.itemToString)(t)+" has been removed."},keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},He=0,Ue=1,We=2,je=3,$e=4,Ye=5,ze=6,Xe=7,qe=8,Qe=9,Ze=10,Ge=11,Je=12,et=Object.freeze({__proto__:null,SelectedItemClick:He,SelectedItemKeyDownDelete:Ue,SelectedItemKeyDownBackspace:We,SelectedItemKeyDownNavigationNext:je,SelectedItemKeyDownNavigationPrevious:$e,DropdownKeyDownNavigationPrevious:Ye,DropdownKeyDownBackspace:ze,DropdownClick:Xe,FunctionAddSelectedItem:qe,FunctionRemoveSelectedItem:Qe,FunctionSetSelectedItems:Ze,FunctionSetActiveIndex:Ge,FunctionReset:Je});function tt(e,t){var n,o=t.type,r=t.index,i=t.props,s=t.selectedItem,a=e.activeIndex,l=e.selectedItems;switch(o){case He:n={activeIndex:r};break;case $e:n={activeIndex:a-1<0?0:a-1};break;case je:n={activeIndex:a+1>=l.length?-1:a+1};break;case We:case Ue:if(a<0)break;var u=a;1===l.length?u=-1:a===l.length-1&&(u=l.length-2),n=d({selectedItems:[].concat(l.slice(0,a),l.slice(a+1))},{activeIndex:u});break;case Ye:n={activeIndex:l.length-1};break;case ze:n={selectedItems:l.slice(0,l.length-1)};break;case qe:n={selectedItems:[].concat(l,[s])};break;case Xe:n={activeIndex:-1};break;case Qe:var c=a,p=l.indexOf(s);if(p<0)break;1===l.length?c=-1:p===l.length-1&&(c=l.length-2),n={selectedItems:[].concat(l.slice(0,p),l.slice(p+1)),activeIndex:c};break;case Ze:n={selectedItems:t.selectedItems};break;case Ge:n={activeIndex:t.activeIndex};break;case Je:n={activeIndex:_e(i,"activeIndex"),selectedItems:_e(i,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return d({},e,n)}var nt=["refKey","ref","onClick","onKeyDown","selectedItem","index"],ot=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function rt(t){void 0===t&&(t={});var n=d({},Be,t),o=n.getA11yRemovalMessage,r=n.itemToString,i=n.environment,s=n.keyNavigationNext,a=n.keyNavigationPrevious,l=function(e,t,n){var o=q(e,t,n),r=o[0],i=o[1];return[V(r,n),i]}(tt,function(e){return{activeIndex:Fe(e,"activeIndex"),selectedItems:Fe(e,"selectedItems")}}(n),n),u=l[0],p=l[1],h=u.activeIndex,m=u.selectedItems,g=e.useRef(!0),f=e.useRef(null),v=e.useRef(m),y=e.useRef();y.current=[];var I=X({state:u,props:n});e.useEffect((function(){if(!g.current){if(m.length<v.current.length){var e=v.current.find((function(e){return m.indexOf(e)<0}));_(o({itemToString:r,resultCount:m.length,removedSelectedItem:e,activeIndex:h,activeSelectedItem:m[h]}),i.document)}v.current=m}}),[m.length]),e.useEffect((function(){g.current||(-1===h&&f.current?f.current.focus():y.current[h]&&y.current[h].focus())}),[h]),ne({isInitialMount:g.current,props:n,state:u});var b=ee();e.useEffect((function(){return g.current=!1,function(){g.current=!0}}),[]);var x=e.useMemo((function(){var e;return(e={})[a]=function(){p({type:$e})},e[s]=function(){p({type:je})},e.Delete=function(){p({type:Ue})},e.Backspace=function(){p({type:We})},e}),[p,s,a]),w=e.useMemo((function(){var e;return(e={})[a]=function(e){Ke(e)&&p({type:Ye})},e.Backspace=function(e){Ke(e)&&p({type:ze})},e}),[p,a]);return{getSelectedItemProps:e.useCallback((function(e){var t,n=void 0===e?{}:e,o=n.refKey,r=void 0===o?"ref":o,i=n.ref,s=n.onClick,a=n.onKeyDown,l=n.selectedItem,u=n.index,h=c(n,nt),m=I.current.state,g=Y(l,u,m.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],f=g>-1&&g===m.activeIndex;return d(((t={})[r]=M(i,(function(e){e&&y.current.push(e)})),t.tabIndex=f?0:-1,t.onClick=A(s,(function(){p({type:He,index:g})})),t.onKeyDown=A(a,(function(e){var t=N(e);t&&x[t]&&x[t](e)})),t),h)}),[p,I,x]),getDropdownProps:e.useCallback((function(e,t){var n,o=void 0===e?{}:e,r=o.refKey,i=void 0===r?"ref":r,s=o.ref,a=o.onKeyDown,l=o.onClick,u=o.preventKeyAction,h=void 0!==u&&u,m=c(o,ot);(void 0===t?{}:t).suppressRefError;return d(((n={})[i]=M(s,(function(e){e&&(f.current=e)})),n),!h&&{onKeyDown:A(a,(function(e){var t=N(e);t&&w[t]&&w[t](e)})),onClick:A(l,(function(){p({type:Xe})}))},m)}),[p,w,b]),addSelectedItem:e.useCallback((function(e){p({type:qe,selectedItem:e})}),[p]),removeSelectedItem:e.useCallback((function(e){p({type:Qe,selectedItem:e})}),[p]),setSelectedItems:e.useCallback((function(e){p({type:Ze,selectedItems:e})}),[p]),setActiveIndex:e.useCallback((function(e){p({type:Ge,activeIndex:e})}),[p]),reset:e.useCallback((function(){p({type:Je})}),[p]),selectedItems:m,activeIndex:h}}rt.stateChangeTypes=et;const it=t=>{let{className:n,children:o}=t;return e.createElement(st,{className:r("mx-validation-message",n),bootstrapStyle:"danger",role:"alert"},o)},st=t=>{let{className:n,bootstrapStyle:o,children:i,role:s}=t;return e.Children.count(i)>0?e.createElement("div",{className:r("alert alert-".concat(o),n),role:s},i):null};st.displayName="Alert";const at=e.forwardRef(((t,n)=>{const{isOpen:o,readOnly:i,getToggleButtonProps:s,validation:a,children:u}=t;return e.createElement(e.Fragment,null,e.createElement("div",{ref:n,tabIndex:-1,className:r("form-control","widget-combobox-input-container",{"widget-combobox-input-container-active":o,"widget-combobox-input-container-disabled":i}),...s()},u,e.createElement("div",{className:"widget-combobox-down-arrow"},e.createElement(l,{isOpen:o}))),a&&e.createElement(it,null,a))}));function lt(){return e.createElement("div",{className:"form-control widget-combobox-placeholder"},e.createElement("div",{className:"widget-combobox-placeholder-down-arrow"},e.createElement(l,null)))}function ut(t){return e.createElement("li",{className:"widget-combobox-item widget-combobox-no-options",role:"option"},t.children)}function ct(t){var n;return e.createElement("div",{className:r("widget-combobox-placeholder-".concat(null!==(n=t.type)&&void 0!==n?n:"text"),{"widget-combobox-placeholder-empty":t.isEmpty})},t.children)}function dt(t,n){const[o,r]=e.useState(),i=e.useCallback((()=>{r((e=>{const n=null==t?void 0:t.getBoundingClientRect();return r=n,(o=e)&&r&&o.height===r.height&&o.width===r.width&&o.bottom===r.bottom&&o.top===r.top&&o.left===r.left&&o.right===r.right?e:n;var o,r}))}),[t]);var s;return s=n?i:void 0,e.useEffect((()=>s?function(e){let t;const n=()=>{t=window.requestAnimationFrame((()=>{e(),n()}))},o=()=>window.cancelAnimationFrame(t);return n(),o}(s):void 0),[s]),o}const pt=(e,t)=>{let n=null;const o=()=>{null!==n&&(clearTimeout(n),n=null)};return[function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];o(),n=setTimeout((()=>e(...i)),t)},o]};function ht(e,t){const{height:n}=t,o=window.innerHeight-e.bottom,r=e.top-n<0?e.top-n:0;return o<n?{bottom:window.innerHeight-e.top+r,left:e.left}:{top:e.bottom,left:e.left}}function mt(e){e.preventDefault(),e.stopPropagation()}function gt(t){const{children:n,isOpen:o,isEmpty:i,noOptionsText:s,alwaysOpen:a,getMenuProps:l,menuHeaderContent:u,menuFooterContent:c,highlightedIndex:d,onOptionClick:p}=t,[h,m]=function(t){var n,o,r,i;const s=e.useRef(null),[a,l]=e.useState({visibility:"hidden",position:"fixed"}),[u,c]=e.useMemo((()=>pt(l,32)),[l]),d=null!==(o=null===(n=s.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==o?o:0,p=dt(null!==(i=null===(r=s.current)||void 0===r?void 0:r.parentElement)&&void 0!==i?i:null,t);return e.useEffect((()=>{if(void 0!==p&&null!==s.current&&t)return u({visibility:"visible",position:"fixed",width:p.width,...ht(p,s.current.getBoundingClientRect())}),c}),[d,t,p,u,c]),[s,a]}(o);return e.createElement("div",{ref:h,className:r("widget-combobox-menu",{"widget-combobox-menu-hidden":!o}),style:a?{display:"block",visibility:"visible",position:"relative"}:m},u&&e.createElement("div",{className:"widget-combobox-menu-header widget-combobox-item",onMouseDown:mt},u),e.createElement("ul",{className:r("widget-combobox-menu-list",{"widget-combobox-menu-highlighted":(null!=d?d:-1)>=0}),...null==l?void 0:l({onClick:p,onMouseDown:mt},{suppressRefError:!0})},o?i?e.createElement(ut,null,s):n:null),c&&e.createElement("div",{className:"widget-combobox-menu-footer",onMouseDown:mt},c))}function ft(t){const{children:n,isSelected:o,isHighlighted:i,item:s,getItemProps:a,index:l}=t;return e.createElement("li",{className:r("widget-combobox-item",{"widget-combobox-item-selected":o,"widget-combobox-item-highlighted":i}),...null==a?void 0:a({index:l,item:s}),"aria-selected":o},n)}function vt(t){let{isOpen:n,selector:o,highlightedIndex:r,getMenuProps:i,getItemProps:s,noOptionsText:a,alwaysOpen:l,menuFooterContent:u}=t;const c=o.options.getAll();return e.createElement(gt,{isOpen:n,isEmpty:(null==c?void 0:c.length)<=0,getMenuProps:i,noOptionsText:a,menuFooterContent:u,alwaysOpen:l},n&&c.map(((t,n)=>e.createElement(ft,{key:t,isHighlighted:!l&&r===n,isSelected:o.currentValue===t,item:t,getItemProps:s,index:n},o.caption.render(t,"options")))))}function yt(t){let{selector:n,tabIndex:o=0,a11yConfig:i,keepMenuOpen:s,menuFooterContent:l,...u}=t;var c;const{getInputProps:d,getToggleButtonProps:p,getItemProps:h,selectedItem:m,getMenuProps:g,reset:f,isOpen:v,highlightedIndex:y}=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;var r;const{inputId:i,labelId:s}=n,a=e.useMemo((()=>({items:[],itemToString:e=>t.caption.get(e),onSelectedItemChange(e){let{selectedItem:n}=e;t.setValue(null!=n?n:null)},onInputValueChange(e){let{inputValue:n}=e;t.options.setSearchTerm(n)},getA11yStatusMessage(e){const n=t.caption.get(t.currentValue);let r=n?t.currentValue?"".concat(o.a11ySelectedValue," ").concat(n,". "):"No options selected.":"";return e.isOpen?e.resultCount&&e.resultCount>0?(r+="".concat(o.a11yOptionsAvailable," ").concat(e.resultCount,". ").concat(o.a11yInstructions),r):o.a11yNoOption:r},defaultHighlightedIndex:0,selectedItem:null,initialInputValue:t.caption.get(t.currentValue),stateReducer(e,n){const{changes:o,type:r}=n;switch(r){case De.stateChangeTypes.ToggleButtonClick:return{...o,inputValue:e.isOpen&&t.currentValue?t.caption.get(t.currentValue):""};case De.stateChangeTypes.ControlledPropUpdatedSelectedItem:return{...o,inputValue:o.inputValue===t.caption.emptyCaption?"":t.caption.get(t.currentValue)};case De.stateChangeTypes.InputFocus:return{...o,isOpen:e.isOpen,inputValue:"",highlightedIndex:o.selectedItem?-1:this.defaultHighlightedIndex};case De.stateChangeTypes.InputKeyDownEscape:case De.stateChangeTypes.FunctionCloseMenu:return{...o,isOpen:!1,inputValue:o.selectedItem||t.currentValue?t.caption.get(t.currentValue):""};case De.stateChangeTypes.InputBlur:return e;default:return{...o}}},inputId:i,labelId:s})),[t,i,s,o.a11ySelectedValue,o.a11yOptionsAvailable,o.a11yNoOption,o.a11yInstructions]),l=De({...a,items:null!==(r=t.options.getAll())&&void 0!==r?r:[],selectedItem:t.currentValue}),{closeMenu:u}=l;return t.onLeaveEvent=e.useCallback(u,[u]),l}(n,u,i.a11yStatusMessage),I=e.useRef(null);return e.createElement(e.Fragment,null,e.createElement(at,{isOpen:v||!0===s,readOnly:n.readOnly,getToggleButtonProps:p,validation:n.validation},e.createElement("div",{className:r("widget-combobox-selected-items",{"widget-combobox-custom-content":"yes"===n.customContentType})},e.createElement("input",{className:r("widget-combobox-input",{"widget-combobox-input-nofilter":"none"===n.options.filterType}),tabIndex:o,...d({disabled:n.readOnly,readOnly:"none"===n.options.filterType,ref:I},{suppressRefError:!0}),placeholder:" "}),e.createElement(ct,{isEmpty:!n.currentValue,type:"yes"===n.customContentType?"custom":"text"},n.caption.render(m,"label"))),!n.readOnly&&n.clearable&&null!==n.currentValue&&e.createElement("button",{tabIndex:o,className:"widget-combobox-clear-button","aria-label":null===(c=i.ariaLabels)||void 0===c?void 0:c.clearSelection,onClick:e=>{var t;e.stopPropagation(),null===(t=I.current)||void 0===t||t.focus(),m&&(n.setValue(null),f())}},e.createElement(a,null))),e.createElement(vt,{selector:n,selectedItem:m,getMenuProps:g,getItemProps:h,isOpen:v||!0===s,highlightedIndex:y,menuFooterContent:l,alwaysOpen:s}))}function It(t,n,o){var r;const{getSelectedItemProps:i,getDropdownProps:s,removeSelectedItem:a,setActiveIndex:l,selectedItems:u,setSelectedItems:c,activeIndex:d,addSelectedItem:p}=rt({selectedItems:null!==(r=t.currentValue)&&void 0!==r?r:[],itemToString:e=>t.caption.get(e),getA11yRemovalMessage:e=>"".concat(e.itemToString(e.removedSelectedItem)," has been removed."),onSelectedItemsChange(e){let{selectedItems:n}=e;t.setValue(null!=n?n:[])},onStateChange(e){let{selectedItems:t,type:n}=e;switch(n){case rt.stateChangeTypes.SelectedItemKeyDownBackspace:case rt.stateChangeTypes.SelectedItemKeyDownDelete:case rt.stateChangeTypes.DropdownKeyDownBackspace:case rt.stateChangeTypes.FunctionRemoveSelectedItem:c(t)}}}),h=t.getOptions(),{isOpen:m,reset:g,getToggleButtonProps:f,getMenuProps:v,getInputProps:y,highlightedIndex:I,getItemProps:b,inputValue:x,setInputValue:w,closeMenu:C}=De(function(t,n,o,r,i,s,a){return e.useMemo((()=>({items:o,selectedItem:null,inputId:null==a?void 0:a.inputId,labelId:null==a?void 0:a.labelId,onInputValueChange(e){let{inputValue:n}=e;t.options.setSearchTerm(n)},getA11yStatusMessage(e){let o=n.length>0?"".concat(s.a11ySelectedValue," ").concat(n.map((e=>t.caption.get(e))).join(","),". "):"";return e.resultCount?e.isOpen?(e.previousResultCount===e.resultCount&&e.highlightedItem||(o+="".concat(s.a11yOptionsAvailable," ").concat(e.resultCount,". ").concat(s.a11yInstructions)),o):o:s.a11yNoOption},itemToString:e=>t.caption.get(e),stateReducer(e,t){const{changes:n,type:r}=t;switch(r){case De.stateChangeTypes.ControlledPropUpdatedSelectedItem:return{...n,inputValue:e.inputValue};case De.stateChangeTypes.InputFocus:return{...n,isOpen:e.isOpen};case De.stateChangeTypes.InputKeyDownEnter:case De.stateChangeTypes.ItemClick:return{...n,...n.selectedItem&&{isOpen:!0,inputValue:"",highlightedIndex:o.indexOf(n.selectedItem)}};case De.stateChangeTypes.InputKeyDownEscape:case De.stateChangeTypes.FunctionCloseMenu:return{...n,...n.selectedItem&&{isOpen:!1,inputValue:"",highlightedIndex:o.indexOf(n.selectedItem)}};case De.stateChangeTypes.InputBlur:return{...e,highlightedIndex:-1};default:return n}},onStateChange(e){let{type:t,selectedItem:o}=e;switch(t){case De.stateChangeTypes.InputKeyDownEnter:case De.stateChangeTypes.ItemClick:o&&!n.includes(o)?i([...n,o]):o&&r(o)}}})),[t,n,o,t.currentValue,r,i,s.a11ySelectedValue,s.a11yOptionsAvailable,s.a11yNoOption,s.a11yInstructions])}(t,u,h,a,c,o,n));return t.onLeaveEvent=e.useCallback(C,[C]),{isOpen:m,reset:g,getToggleButtonProps:f,getMenuProps:v,getInputProps:y,highlightedIndex:I,getItemProps:b,inputValue:x,setInputValue:w,getSelectedItemProps:i,getDropdownProps:s,removeSelectedItem:a,setActiveIndex:l,selectedItems:u,items:h,setSelectedItems:c,activeIndex:d,addSelectedItem:p,toggleSelectedItem:e=>{const t=h[e];t&&(u.includes(t)?(a(t),w("")):(p(t),w("")))}}}function bt(t){let{isOpen:n,getMenuProps:o,getItemProps:r,highlightedIndex:i,selector:s,selectableItems:a,noOptionsText:l,inputId:c,menuHeaderContent:d,menuFooterContent:p,onOptionClick:h}=t;return e.createElement(gt,{isOpen:n,isEmpty:a.length<=0,getMenuProps:o,noOptionsText:l,highlightedIndex:i,menuHeaderContent:d,menuFooterContent:p,onOptionClick:h},n&&a.map(((t,n)=>{var o;const a=i===n,l=null===(o=s.currentValue)||void 0===o?void 0:o.includes(t);return e.createElement(ft,{key:t,isHighlighted:a,isSelected:l,item:t,getItemProps:r,index:n},"checkbox"===s.selectionMethod&&e.createElement(u,{checked:l,id:"".concat(c,"_").concat(t)}),s.caption.render(t,"options","".concat(c,"_").concat(t)))})))}function xt(t){let{id:n,value:o,onChange:r}=t;const i=e.useRef(null);return e.useEffect((()=>{i.current&&("all"===o||"none"===o?i.current.indeterminate=!1:"some"===o&&(i.current.indeterminate=!0))}),[o]),e.createElement("input",{id:n,type:"checkbox",className:"three-state-checkbox",ref:i,checked:"none"!==o,onChange:r})}function wt(t){let{id:n,ariaLabel:o,value:s,onChange:a}=t;return e.createElement(e.Fragment,null,e.createElement("span",{className:r("widget-combobox-menu-header-select-all-button","widget-combobox-icon-container")},e.createElement(xt,{value:s,id:n,onChange:a})),o?e.createElement(i,{onClick:a,htmlFor:n},o):void 0)}function Ct(t){let{selector:n,tabIndex:o,a11yConfig:i,menuFooterContent:s,...l}=t;var u;const{isOpen:c,getToggleButtonProps:d,getMenuProps:p,getInputProps:h,highlightedIndex:m,getItemProps:g,getSelectedItemProps:f,getDropdownProps:v,removeSelectedItem:y,setActiveIndex:I,selectedItems:b,items:x,setSelectedItems:w,toggleSelectedItem:C}=It(n,l,i.a11yStatusMessage),E=e.useRef(null),O="boxes"===n.selectedItemsStyle,T=n.isOptionsSelected();return e.createElement(e.Fragment,null,e.createElement(at,{isOpen:c,readOnly:n.readOnly,getToggleButtonProps:d,validation:n.validation},e.createElement("div",{className:r("widget-combobox-selected-items","widget-combobox-".concat(n.selectedItemsStyle))},O&&b.map(((t,o)=>{var r;return e.createElement("div",{className:"widget-combobox-selected-item",key:t,...f({selectedItem:t,index:o})},n.caption.render(t,"label"),!n.readOnly&&e.createElement("span",{className:"icon widget-combobox-clear-button","aria-label":null===(r=i.ariaLabels)||void 0===r?void 0:r.removeSelection,role:"button",onClick:e=>{e.stopPropagation(),y(t)}},e.createElement(a,{size:10})))})),e.createElement("input",{className:r("widget-combobox-input",{"widget-combobox-input-nofilter":"none"===n.options.filterType}),tabIndex:o,placeholder:" ",...h({...v({preventKeyAction:c},{suppressRefError:!0}),ref:E,onKeyDown:e=>{var t,n;("Backspace"===e.key&&0===(null===(t=E.current)||void 0===t?void 0:t.selectionStart)||"ArrowLeft"===e.key&&O&&0===(null===(n=E.current)||void 0===n?void 0:n.selectionStart))&&I(b.length-1)," "===e.key&&m>=0&&(C(m),e.preventDefault(),e.stopPropagation())},disabled:n.readOnly,readOnly:"none"===n.options.filterType})}),e.createElement(ct,{isEmpty:b.length<=0},function(e,t){return 0===t.length?e.caption.emptyCaption:"text"!==e.selectedItemsStyle||"yes"===e.customContentType||"rowclick"===e.selectionMethod?"":t.map((t=>e.caption.get(t))).join(", ")}(n,b))),!n.readOnly&&n.clearable&&null!==n.currentValue&&n.currentValue.length>0&&e.createElement("button",{tabIndex:o,className:"widget-combobox-clear-button","aria-label":null===(u=i.ariaLabels)||void 0===u?void 0:u.clearSelection,onClick:e=>{var t;e.stopPropagation(),null===(t=E.current)||void 0===t||t.focus(),b.length>0&&w([])}},e.createElement(a,null))),e.createElement(bt,{menuHeaderContent:n.selectAllButton?e.createElement(wt,{value:T,id:"".concat(l.inputId,"-select-all-button"),ariaLabel:i.ariaLabels.selectAll,onChange:()=>{w("all"===T?[]:n.options.getAll())}}):void 0,menuFooterContent:s,inputId:l.inputId,selector:n,isOpen:c,highlightedIndex:m,selectableItems:x,getItemProps:g,getMenuProps:p,selectedItems:b,noOptionsText:l.noOptionsText,onOptionClick:()=>{var e;null===(e=E.current)||void 0===e||e.focus()}}))}var Et={exports:{}},Ot={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z"},Tt=Object.keys(Ot).join("|"),kt=new RegExp(Tt,"g"),St=new RegExp(Tt,""),At=function(e){return e.replace(kt,(function(e){return Ot[e]}))};Et.exports=At,Et.exports.has=function(e){return!!e.match(St)},Et.exports.remove=At;var Mt={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};Pt.rankings=Mt;var Vt=function(e,t){return String(e.rankedValue).localeCompare(String(t.rankedValue))};function Pt(e,t,n){void 0===n&&(n={});var o=n,r=o.keys,i=o.threshold,s=void 0===i?Mt.MATCHES:i,a=o.baseSort,l=void 0===a?Vt:a,u=o.sorter,c=void 0===u?function(e){return e.sort((function(e,t){return function(e,t,n){var o=-1,r=1,i=e.rank,s=e.keyIndex,a=t.rank,l=t.keyIndex;return i===a?s===l?n(e,t):s<l?o:r:i>a?o:r}(e,t,l)}))}:u,p=e.reduce((function(e,o,i){var a=function(e,t,n,o){if(!t){return{rankedValue:e,rank:Nt(e,n,o),keyIndex:-1,keyThreshold:o.threshold}}var r=function(e,t){for(var n=[],o=0,r=t.length;o<r;o++)for(var i=t[o],s=Ft(i),a=Dt(e,i),l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:s});return n}(e,t);return r.reduce((function(e,t,r){var i=e.rank,s=e.rankedValue,a=e.keyIndex,l=e.keyThreshold,u=t.itemValue,c=t.attributes,d=Nt(u,n,o),p=s,h=c.minRanking,m=c.maxRanking,g=c.threshold;return d<h&&d>=Mt.MATCHES?d=h:d>m&&(d=m),d>i&&(i=d,a=r,l=g,p=u),{rankedValue:p,rank:i,keyIndex:a,keyThreshold:l}}),{rankedValue:e,rank:Mt.NO_MATCH,keyIndex:-1,keyThreshold:o.threshold})}(o,r,t,n),l=a.rank,u=a.keyThreshold;l>=(void 0===u?s:u)&&e.push(d({},a,{item:o,index:i}));return e}),[]);return c(p).map((function(e){return e.item}))}function Nt(e,t,n){return e=Rt(e,n),(t=Rt(t,n)).length>e.length?Mt.NO_MATCH:e===t?Mt.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase())===(t=t.toLowerCase())?Mt.EQUAL:e.startsWith(t)?Mt.STARTS_WITH:e.includes(" "+t)?Mt.WORD_STARTS_WITH:e.includes(t)?Mt.CONTAINS:1===t.length?Mt.NO_MATCH:(o=e,r="",o.split(" ").forEach((function(e){e.split("-").forEach((function(e){r+=e.substr(0,1)}))})),r).includes(t)?Mt.ACRONYM:function(e,t){var n=0,o=0;function r(e,t,o){for(var r=o,i=t.length;r<i;r++){if(t[r]===e)return n+=1,r+1}return-1}function i(e){var o=1/e,r=n/t.length;return Mt.MATCHES+r*o}var s=r(t[0],e,0);if(s<0)return Mt.NO_MATCH;o=s;for(var a=1,l=t.length;a<l;a++){if(!((o=r(t[a],e,o))>-1))return Mt.NO_MATCH}return i(o-s)}(e,t);var o,r}function Rt(e,t){return e=""+e,t.keepDiacritics||(e=Et.exports(e)),e}function Dt(e,t){var n;if("object"==typeof t&&(t=t.key),"function"==typeof t)n=t(e);else if(null==e)n=null;else if(Object.hasOwnProperty.call(e,t))n=e[t];else{if(t.includes("."))return function(e,t){for(var n=e.split("."),o=[t],r=0,i=n.length;r<i;r++){for(var s=n[r],a=[],l=0,u=o.length;l<u;l++){var c=o[l];if(null!=c)if(Object.hasOwnProperty.call(c,s)){var d=c[s];null!=d&&a.push(d)}else"*"===s&&(a=a.concat(c))}o=a}if(Array.isArray(o[0])){var p=[];return p.concat.apply(p,o)}return o}(t,e);n=null}return null==n?[]:Array.isArray(n)?n:[String(n)]}var Lt={maxRanking:1/0,minRanking:-1/0};function Ft(e){return"string"==typeof e?Lt:d({},Lt,e)}class _t{constructor(e,t){this.caption=e,this.valuesMap=t,this.options=[],this.searchTerm="",this.filterType="contains"}get status(){var e,t;return null!==(t=null===(e=this.ds)||void 0===e?void 0:e.status)&&void 0!==t?t:"unavailable"}get hasMore(){var e,t;return null!==(t=null===(e=this.ds)||void 0===e?void 0:e.hasMoreItems)&&void 0!==t&&t}onAfterSearchTermChange(e){this.trigger=e}getAll(){switch(this.filterType){case"contains":return Pt(this.options,this.searchTerm||"",{keys:[e=>this.caption.get(e)],sorter:e=>e});case"startsWith":return Pt(this.options,this.searchTerm||"",{threshold:Pt.rankings.WORD_STARTS_WITH,keys:[e=>this.caption.get(e)],sorter:e=>e});case"none":return Pt(this.options,this.searchTerm||"",{threshold:Pt.rankings.NO_MATCH,keys:[e=>this.caption.get(e)],sorter:e=>e})}}loadMore(){this.ds&&this.hasMore&&this.ds.setLimit(this.ds.limit+30)}setSearchTerm(e){var t;this.searchTerm=e,null===(t=this.trigger)||void 0===t||t.call(this)}_optionToValue(e){if(null!==e)return this.valuesMap.get(e)}_valueToOption(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null}_updateProps(e){var t;this.ds=e.ds,this.filterType=e.filterType;const n=null!==(t=this.ds.items)&&void 0!==t?t:[];if(this.valuesMap.clear(),n.forEach((e=>this.valuesMap.set(e.id,e))),this.options=Array.from(this.valuesMap.keys()),e.attr.value){(Array.isArray(e.attr.value)?e.attr.value:[e.attr.value]).forEach((e=>{this.valuesMap.has(e.id)||this.valuesMap.set(e.id,e)}))}}}class Kt{constructor(){this.status="unavailable",this.clearable=!1,this.currentValue=null,this.readOnly=!1,this.customContentType="no",this.validation=void 0,this._valuesMap=new Map,this.caption=new s(this._valuesMap),this.options=new _t(this.caption,this._valuesMap)}updateProps(e){const[t,n,o,r,i,s,a,l,u]=function(e){const t=e.attributeAssociation,n=e.filterType,o=e.onChangeEvent;if(!t)throw new Error("'optionsSourceType' type is 'association' but 'attributeAssociation' is not defined.");const r=e.optionsSourceAssociationDataSource;if(!r)throw new Error("'optionsSourceType' type is 'association' but 'optionsSourceAssociationDataSource' is not defined.");const i=e.optionsSourceAssociationCaptionType,s=e.optionsSourceAssociationCaptionAttribute,a=e.optionsSourceAssociationCaptionExpression;if("attribute"===i&&!s)throw new Error("'optionsSourceAssociationCaptionType' type is 'attribute' but 'optionsSourceAssociationCaptionAttribute' is not defined.");if("expression"===i&&!a)throw new Error("'optionsSourceAssociationCaptionType' type is 'expression' but 'optionsSourceAssociationCaptionExpression' is not defined.");return[t,r,"attribute"===i?s:a,e.emptyOptionText,e.clearable,n,o,e.optionsSourceAssociationCustomContent,e.optionsSourceAssociationCustomContentType]}(e);if(this._attr=t,this.caption.updateProps({emptyOptionText:r,formattingAttributeOrExpression:o,customContent:l,customContentType:u}),this.options._updateProps({attr:t,ds:n,filterType:s}),!(t&&"unavailable"!==t.status&&n&&"unavailable"!==n.status&&o&&r&&"unavailable"!==r.status))return this.status="unavailable",this.currentValue=null,void(this.clearable=!1);this.clearable=i,this.status=t.status,this.readOnly=t.readOnly,this.onChangeEvent=a,this.customContentType=u,this.validation=t.validation}setValue(e){t(this.onChangeEvent)}}class Bt extends Kt{constructor(){super(...arguments),this.type="multi",this.selectedItemsStyle="text",this.selectionMethod="checkbox",this.selectAllButton=!1}updateProps(e){var t,n,o;super.updateProps(e),this.selectedItemsStyle=e.selectedItemsStyle,this.selectionMethod=e.selectionMethod,this.selectAllButton=e.selectAllButton,this.currentValue=null!==(o=null===(n=null===(t=this._attr)||void 0===t?void 0:t.value)||void 0===n?void 0:n.map((e=>e.id)))&&void 0!==o?o:null,"rowclick"!==this.selectionMethod&&"yes"!==this.customContentType||(this.selectedItemsStyle="boxes")}setValue(e){var t;const n=null==e?void 0:e.map((e=>this.options._optionToValue(e)));null===(t=this._attr)||void 0===t||t.setValue(n),super.setValue(e)}getOptions(){return"rowclick"===this.selectionMethod?this.options.getAll().filter((e=>{var t;return!(null===(t=this.currentValue)||void 0===t?void 0:t.includes(e))})):this.options.getAll()}isOptionsSelected(){const e=this.options.getAll(),t=e.filter((e=>{var t;return!(null===(t=this.currentValue)||void 0===t?void 0:t.includes(e))}));return this.currentValue&&this.currentValue.length>0?0===t.length?"all":"some":0===e.length?"some":"none"}}class Ht extends Kt{constructor(){super(...arguments),this.type="single"}updateProps(e){var t,n,o;super.updateProps(e),this.currentValue=null!==(o=null===(n=null===(t=this._attr)||void 0===t?void 0:t.value)||void 0===n?void 0:n.id)&&void 0!==o?o:null}setValue(e){var t;null===(t=this._attr)||void 0===t||t.setValue(this.options._optionToValue(e)),super.setValue(e)}}class Ut{constructor(){this.emptyCaption=""}updateProps(e){this.attr=e.attribute,e.emptyOptionText&&"unavailable"!==e.emptyOptionText.status?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption=""}get(e){var t,n;return null===e?this.emptyCaption:null!==(n=null===(t=this.attr)||void 0===t?void 0:t.formatter.format(e))&&void 0!==n?n:""}render(t){return e.createElement("span",{className:"widget-combobox-caption-text"},this.get(t))}}class Wt{constructor(e){this.caption=e,this.status="available",this.isBoolean=!1,this.options=[],this.searchTerm="",this.filterType="contains",this.hasMore=!1}loadMore(){}onAfterSearchTermChange(e){this.trigger=e}_updateProps(e){var t,n;"unavailable"===e.attribute.status&&(this.options=[]),this.filterType=e.filterType,this.options=(null!==(t=e.attribute.universe)&&void 0!==t?t:[]).map((e=>e.toString())),this.isBoolean="boolean"==typeof(null===(n=e.attribute.universe)||void 0===n?void 0:n[0])}_optionToValue(e){return this.isBoolean?"true"===e:null!=e?e:void 0}_valueToOption(e){var t;return null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:null}getAll(){switch(this.filterType){case"contains":return Pt(this.options,this.searchTerm||"",{keys:[e=>this.caption.get(e)],sorter:e=>e});case"startsWith":return Pt(this.options,this.searchTerm||"",{threshold:Pt.rankings.WORD_STARTS_WITH,keys:[e=>this.caption.get(e)],sorter:e=>e});case"none":return Pt(this.options,this.searchTerm||"",{threshold:Pt.rankings.NO_MATCH,keys:[e=>this.caption.get(e)],sorter:e=>e})}}setSearchTerm(e){var t;this.searchTerm=e,null===(t=this.trigger)||void 0===t||t.call(this)}}class jt{constructor(){this.status="unavailable",this.type="single",this.validation=void 0,this.isBoolean=!1,this.currentValue=null,this.customContentType="no",this.clearable=!0,this.readOnly=!1,this.caption=new Ut,this.options=new Wt(this.caption)}updateProps(e){var t,n,o;const[r,i,s,a]=function(e){var t;const n=null!==(t=e.attributeEnumeration)&&void 0!==t?t:e.attributeBoolean,o=e.emptyOptionText,r=e.clearable,i=e.filterType;if(!n)throw new Error("'optionsSourceType' type is 'enumeration' or 'boolean' but 'attributeEnumeration' or 'attributeBoolean' is not defined.");return[n,o,r,i]}(e);if(this._attr=r,this.caption.updateProps({attribute:r,emptyOptionText:i}),this.options._updateProps({attribute:r,filterType:a}),!r||"unavailable"===r.status||!i||"unavailable"===i.status)return this.status="unavailable",this.currentValue=null,void(this.clearable=!0);this.onChangeEvent=e.onChangeEvent,this.status=r.status,this.isBoolean="boolean"==typeof(null===(t=r.universe)||void 0===t?void 0:t[0]),this.clearable=!this.isBoolean&&s,this.currentValue=null!==(o=null===(n=r.value)||void 0===n?void 0:n.toString())&&void 0!==o?o:null,this.readOnly=r.readOnly,this.validation=r.validation}setValue(e){var n;null===(n=this._attr)||void 0===n||n.setValue(this.options._optionToValue(e)),t(this.onChangeEvent)}}function $t(t){const n=e.useRef(void 0),[,o]=e.useState({});return n.current||(n.current=function(e){if(["enumeration","boolean"].includes(e.optionsSourceType))return new jt;if("association"===e.optionsSourceType)return"Reference"===e.attributeAssociation.type?new Ht:new Bt;throw new Error("'optionsSourceType' of type '".concat(e.optionsSourceType,"' is not supported"))}(t),n.current.options.onAfterSearchTermChange((()=>o({})))),n.current.updateProps(t),n.current}return function(n){var o,r,i,s,a,l,u,c,d,p,h,m,g,f,v;const y=$t(n),I=function(n){return e.useMemo((()=>({onFocus:e=>{const{relatedTarget:o,currentTarget:r}=e;(null==r?void 0:r.contains(o))||(t(n.onEnterEvent),n.selector.onEnterEvent&&n.selector.onEnterEvent())},onBlur:e=>{const{relatedTarget:o,currentTarget:r}=e;(null==r?void 0:r.contains(o))||(t(n.onLeaveEvent),n.selector.onLeaveEvent&&n.selector.onLeaveEvent())}})),[n.onEnterEvent,n.onLeaveEvent,n.selector])}({onEnterEvent:n.onEnterEvent,onLeaveEvent:n.onLeaveEvent,selector:y}),b={tabIndex:n.tabIndex,inputId:n.id,labelId:"".concat(n.id,"-label"),noOptionsText:null===(o=n.noOptionsText)||void 0===o?void 0:o.value,a11yConfig:{ariaLabels:{clearSelection:null!==(i=null===(r=n.clearButtonAriaLabel)||void 0===r?void 0:r.value)&&void 0!==i?i:"",removeSelection:null!==(a=null===(s=n.removeValueAriaLabel)||void 0===s?void 0:s.value)&&void 0!==a?a:"",selectAll:null!==(u=null===(l=n.selectAllButtonCaption)||void 0===l?void 0:l.value)&&void 0!==u?u:""},a11yStatusMessage:{a11ySelectedValue:null!==(d=null===(c=n.a11ySelectedValue)||void 0===c?void 0:c.value)&&void 0!==d?d:"",a11yOptionsAvailable:null!==(h=null===(p=n.a11yOptionsAvailable)||void 0===p?void 0:p.value)&&void 0!==h?h:"",a11yInstructions:null!==(g=null===(m=n.a11yInstructions)||void 0===m?void 0:m.value)&&void 0!==g?g:"",a11yNoOption:null!==(v=null===(f=n.noOptionsText)||void 0===f?void 0:f.value)&&void 0!==v?v:""}},menuFooterContent:n.showFooter?n.menuFooterContent:void 0};return e.createElement("div",{className:"widget-combobox",...I},"unavailable"===y.status?e.createElement(lt,null):"single"===y.type?e.createElement(yt,{selector:y,...b}):e.createElement(Ct,{selector:y,...b}))}}));
